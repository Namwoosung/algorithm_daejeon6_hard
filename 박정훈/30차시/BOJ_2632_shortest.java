import java.util.*;class BOJ_2632_shortest{public static void main(String[]a){Scanner s=new Scanner(System.in);int G=s.nextInt(),m=s.nextInt(),n=s.nextInt(),A[]=new int[m],B[]=new int[n],i,j,t,b=0;for(i=0;i<m;)A[i++]=s.nextInt();for(i=0;i<n;)B[i++]=s.nextInt();Map<Integer,Integer>M=new HashMap(),N=new HashMap();for(i=0;i<m;i++)for(j=1,t=0;j<=m&(i<1|j<m);j++){t+=A[(i+j-1)%m];if(t>G)break;M.put(t,M.getOrDefault(t,0)+1);}for(i=0;i<n;i++)for(j=1,t=0;j<=n&(i<1|j<n);j++){t+=B[(i+j-1)%n];if(t>G)break;N.put(t,N.getOrDefault(t,0)+1);}for(i=0;i<=G;i++)b+=M.getOrDefault(i,i==0?1:0)*N.getOrDefault(G-i,G-i==0?1:0);System.out.print(b);}}